{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\nimport { login } from \"../actions/auth\";\nvar logIn = function () {\n  var _ref = _asyncToGenerator(function* (values) {\n    alert(values['username']);\n    alert(values['password']);\n    var errorMsg = null;\n    var endpoint = 'api/auth/';\n    var payload = {\n      username: values['username'],\n      password: values['password']\n    };\n    axios.defaults.baseURL = 'http://bhaasha.iiit.ac.in/crowd';\n    axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n    return axios({\n      method: 'post',\n      url: endpoint,\n      data: payload\n    }).then(function (response) {\n      console.log(\"response aauthservice \" + response);\n      return response;\n    }).catch(function (error) {\n      if (error.response.data.non_field_errors != null) {\n        alert(\"API call fails with error:\" + error.response.data.non_field_errors);\n        console.log(error.response.data.non_field_errors);\n      } else {\n        alert(\"API call fails with error:\" + error);\n        console.log(error);\n      }\n      return error;\n    });\n  });\n  return function logIn(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar logOut = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    AsyncStorage.clear();\n    return {\n      status: \"success\",\n      message: \"You are logged out\"\n    };\n  });\n  return function logOut() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport default {\n  logIn: logIn,\n  logOut: logOut\n};","map":{"version":3,"names":["AsyncStorage","axios","login","logIn","_ref","_asyncToGenerator","values","alert","errorMsg","endpoint","payload","username","password","defaults","baseURL","headers","post","method","url","data","then","response","console","log","catch","error","non_field_errors","_x","apply","arguments","logOut","_ref2","clear","status","message"],"sources":["C:/Users/vinee/Desktop/BhaashadanWithUserManagement/Bhaashadan/src/services/authService.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport axios from \"axios\";\r\nimport { login } from \"../actions/auth\";\r\nconst logIn = async (values) => {\r\n  alert(values['username']);\r\n  alert(values['password']);\r\n  var errorMsg=null;\r\n  //alert(values['rememberMe']);\r\n  const endpoint ='api/auth/';\r\n    //alert(endpoint);\r\n    const payload = { username: values['username'], password: values['password'] } ;\r\n    //alert(\"input username=\"+values['username']);\r\n    axios.defaults.baseURL = 'http://bhaasha.iiit.ac.in/crowd';\r\n    axios.defaults.headers.post['Content-Type'] ='application/x-www-form-urlencoded';\r\n   // const rememberMe=values['rememberMe'];\r\n    \r\n\t//alert(\" rememberMe\")\r\n\t// let self=props;\r\n    return axios({\r\n        method: 'post',\r\n        url: endpoint,\r\n        data: payload\r\n      })\r\n      \r\n      .then(function (response) {\r\n       // const { token,user} = response.data;\r\n        //alert(\"output username=\"+user.first_name);\r\n        //dispatch(login);\r\n        console.log(\"response aauthservice \"+response);\r\n      //  Promise.resolve(response);\r\n       return response\r\n            \r\n         \r\n      })\r\n      .catch(function (error) {\r\n       // alert(error.response.status);\r\n        if(error.response.data.non_field_errors!=null)\r\n        {\r\n        alert(\"API call fails with error:\"+error.response.data.non_field_errors);\r\n        console.log(error.response.data.non_field_errors);\r\n        }\r\n        else{\r\n        alert(\"API call fails with error:\"+error);\r\n        console.log(error);\r\n        }\r\n        return error;\r\n        \r\n      });\r\n      \r\n}\r\nconst logOut = async () => {\r\n  AsyncStorage.clear();\r\n  return {\r\n    status: \"success\",\r\n    message: \"You are logged out\",\r\n  };\r\n};\r\nexport default {\r\n  logIn,\r\n  logOut,\r\n};"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK;AACd,IAAMC,KAAK;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,MAAM,EAAK;IAC9BC,KAAK,CAACD,MAAM,CAAC,UAAU,CAAC,CAAC;IACzBC,KAAK,CAACD,MAAM,CAAC,UAAU,CAAC,CAAC;IACzB,IAAIE,QAAQ,GAAC,IAAI;IAEjB,IAAMC,QAAQ,GAAE,WAAW;IAEzB,IAAMC,OAAO,GAAG;MAAEC,QAAQ,EAAEL,MAAM,CAAC,UAAU,CAAC;MAAEM,QAAQ,EAAEN,MAAM,CAAC,UAAU;IAAE,CAAC;IAE9EL,KAAK,CAACY,QAAQ,CAACC,OAAO,GAAG,iCAAiC;IAC1Db,KAAK,CAACY,QAAQ,CAACE,OAAO,CAACC,IAAI,CAAC,cAAc,CAAC,GAAE,mCAAmC;IAKhF,OAAOf,KAAK,CAAC;MACTgB,MAAM,EAAE,MAAM;MACdC,GAAG,EAAET,QAAQ;MACbU,IAAI,EAAET;IACR,CAAC,CAAC,CAEDU,IAAI,CAAC,UAAUC,QAAQ,EAAE;MAIxBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,GAACF,QAAQ,CAAC;MAE/C,OAAOA,QAAQ;IAGhB,CAAC,CAAC,CACDG,KAAK,CAAC,UAAUC,KAAK,EAAE;MAEtB,IAAGA,KAAK,CAACJ,QAAQ,CAACF,IAAI,CAACO,gBAAgB,IAAE,IAAI,EAC7C;QACAnB,KAAK,CAAC,4BAA4B,GAACkB,KAAK,CAACJ,QAAQ,CAACF,IAAI,CAACO,gBAAgB,CAAC;QACxEJ,OAAO,CAACC,GAAG,CAACE,KAAK,CAACJ,QAAQ,CAACF,IAAI,CAACO,gBAAgB,CAAC;MACjD,CAAC,MACG;QACJnB,KAAK,CAAC,4BAA4B,GAACkB,KAAK,CAAC;QACzCH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MAClB;MACA,OAAOA,KAAK;IAEd,CAAC,CAAC;EAER,CAAC;EAAA,gBA9CKtB,KAAKA,CAAAwB,EAAA;IAAA,OAAAvB,IAAA,CAAAwB,KAAA,OAAAC,SAAA;EAAA;AAAA,GA8CV;AACD,IAAMC,MAAM;EAAA,IAAAC,KAAA,GAAA1B,iBAAA,CAAG,aAAY;IACzBL,YAAY,CAACgC,KAAK,CAAC,CAAC;IACpB,OAAO;MACLC,MAAM,EAAE,SAAS;MACjBC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EAAA,gBANKJ,MAAMA,CAAA;IAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMX;AACD,eAAe;EACb1B,KAAK,EAALA,KAAK;EACL2B,MAAM,EAANA;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
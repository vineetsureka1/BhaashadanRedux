{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport { login } from \"../actions/auth\";\nimport { useCookies } from 'react-cookie';\nimport globalconst from \"../constant/globalvariables\";\nvar getParagraph = function () {\n  var _ref = _asyncToGenerator(function* (argObject) {\n    alert(\"called\");\n    alert(\"url 222\");\n    var apiURL = globalconst.apiBaseUrl + \"/api/\" + \"Uploaded\" === argObject.selectedWorkType ? \"job/\" : \"paragraph/\" + \"?language=\" + argObject.selectedLanguage.key + \"&page=1\";\n    axios.defaults.baseURL = globalconst.apiBaseUrl;\n    if (argObject) {\n      alert(\"inside\" + argObject.nextUrl);\n      if (argObject.nextUrl && argObject.nextUrl != \"\") apiURL = argObject.nextUrl;\n    }\n    alert(\"final url\" + apiURL);\n    axios.defaults.headers.get['Content-Type'] = 'application/json';\n    var myheaders = new Headers();\n    myheaders.append(\"Authorization\", \"Token ${token}\");\n    myheaders.append('Content-Type', 'application/json');\n    return axios({\n      method: 'GET',\n      url: argObject.nextUrl ? argObject.nextUrl : apiURL,\n      redirect: 'follow'\n    }).then(function (response) {\n      alert(\"getpara service\" + JSON.stringify(response));\n      return response;\n    }).catch(function (error) {\n      alert(\"getpara service error\" + JSON.stringify(error));\n      if (error.response.data.non_field_errors != null) {\n        alert(\"API call fails with error:\" + error.response.data.non_field_errors);\n        console.log(error.response.data.non_field_errors);\n      } else {\n        alert(\"API call fails with error:\" + error);\n        console.log(error);\n      }\n      return error;\n    });\n  });\n  return function getParagraph(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default {\n  getParagraph: getParagraph\n};","map":{"version":3,"names":["axios","login","useCookies","globalconst","getParagraph","_ref","_asyncToGenerator","argObject","alert","apiURL","apiBaseUrl","selectedWorkType","selectedLanguage","key","defaults","baseURL","nextUrl","headers","get","myheaders","Headers","append","method","url","redirect","then","response","JSON","stringify","catch","error","data","non_field_errors","console","log","_x","apply","arguments"],"sources":["C:/Users/vinee/Desktop/BhaashadanWithUserManagement/Bhaashadan/src/services/dataFetchService.js"],"sourcesContent":["//import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport axios from \"axios\";\r\nimport { login } from \"../actions/auth\";\r\nimport { useCookies } from 'react-cookie';\r\nimport globalconst from \"../constant/globalvariables\";\r\n\r\nconst getParagraph = async (argObject) => {\r\nalert(\"called\");\r\n\t// let self=props;\r\n  alert(\"url 222\");\r\n  var  apiURL=globalconst.apiBaseUrl+\"/api/\"+\"Uploaded\"===argObject.selectedWorkType?\"job/\":\"paragraph/\"+\"?language=\"+argObject.selectedLanguage.key+\"&page=1\";\r\n \r\n axios.defaults.baseURL=globalconst.apiBaseUrl;\r\n  if(argObject ){\r\n  alert(\"inside\"+argObject.nextUrl);\r\n    if(argObject.nextUrl && argObject.nextUrl!=\"\")\r\n      apiURL=argObject.nextUrl;\r\n  }\r\n  \r\n  alert(\"final url\"+apiURL);\r\n//alert(\"token \"+axios.defaults.headers.common.Authorization+\" content type: \"+axios.defaults.headers.get['Content-Type'] );\r\naxios.defaults.headers.get['Content-Type'] ='application/json';\r\n\r\nvar myheaders = new Headers();\r\nmyheaders.append(\"Authorization\",\"Token ${token}\");\r\nmyheaders.append('Content-Type', 'application/json');\r\n\r\n    return axios({\r\n        method: 'GET',\r\n       //headers: myheaders,\r\n        url: argObject.nextUrl?argObject.nextUrl:apiURL,\r\n        redirect: 'follow'\r\n        //data: payload\r\n      })\r\n      .then(function (response) {\r\n       // const languages=getLanguages(oldState,workType,selectedLanguageIndex,response);\r\n      //  response.languages=languages;\r\n      alert(\"getpara service\"+JSON.stringify(response));\r\n       return response;  \r\n      })\r\n      .catch(function (error) {\r\n       // alert(error.response.status);\r\n      alert(\"getpara service error\"+JSON.stringify(error));\r\n        if(error.response.data.non_field_errors!=null)\r\n        {\r\n        alert(\"API call fails with error:\"+error.response.data.non_field_errors);\r\n        console.log(error.response.data.non_field_errors);\r\n        }\r\n        else{\r\n        alert(\"API call fails with error:\"+error);\r\n        console.log(error);\r\n        }\r\n        return error;\r\n        \r\n      });\r\n      \r\n}\r\n/*\r\nfunction getLanguages(oldState,workType,selectedLanguageIndex,response){\r\n  var languages=[...oldState.languages];\r\n  languages[selectedLanguageIndex][workType].items=[languages[selectedLanguageIndex][workType].items,response.data.results]\r\n  return languages;\r\n}\r\n*/\r\n\r\nexport default {\r\n  getParagraph,\r\n  //getJob,\r\n  \r\n};"],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK;AACd,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,WAAW;AAElB,IAAMC,YAAY;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,SAAS,EAAK;IAC1CC,KAAK,CAAC,QAAQ,CAAC;IAEbA,KAAK,CAAC,SAAS,CAAC;IAChB,IAAKC,MAAM,GAACN,WAAW,CAACO,UAAU,GAAC,OAAO,GAAC,UAAU,KAAGH,SAAS,CAACI,gBAAgB,GAAC,MAAM,GAAC,YAAY,GAAC,YAAY,GAACJ,SAAS,CAACK,gBAAgB,CAACC,GAAG,GAAC,SAAS;IAE7Jb,KAAK,CAACc,QAAQ,CAACC,OAAO,GAACZ,WAAW,CAACO,UAAU;IAC5C,IAAGH,SAAS,EAAE;MACdC,KAAK,CAAC,QAAQ,GAACD,SAAS,CAACS,OAAO,CAAC;MAC/B,IAAGT,SAAS,CAACS,OAAO,IAAIT,SAAS,CAACS,OAAO,IAAE,EAAE,EAC3CP,MAAM,GAACF,SAAS,CAACS,OAAO;IAC5B;IAEAR,KAAK,CAAC,WAAW,GAACC,MAAM,CAAC;IAE3BT,KAAK,CAACc,QAAQ,CAACG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,GAAE,kBAAkB;IAE9D,IAAIC,SAAS,GAAG,IAAIC,OAAO,CAAC,CAAC;IAC7BD,SAAS,CAACE,MAAM,CAAC,eAAe,EAAC,gBAAgB,CAAC;IAClDF,SAAS,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;IAEhD,OAAOrB,KAAK,CAAC;MACTsB,MAAM,EAAE,KAAK;MAEbC,GAAG,EAAEhB,SAAS,CAACS,OAAO,GAACT,SAAS,CAACS,OAAO,GAACP,MAAM;MAC/Ce,QAAQ,EAAE;IAEZ,CAAC,CAAC,CACDC,IAAI,CAAC,UAAUC,QAAQ,EAAE;MAG1BlB,KAAK,CAAC,iBAAiB,GAACmB,IAAI,CAACC,SAAS,CAACF,QAAQ,CAAC,CAAC;MAChD,OAAOA,QAAQ;IAChB,CAAC,CAAC,CACDG,KAAK,CAAC,UAAUC,KAAK,EAAE;MAExBtB,KAAK,CAAC,uBAAuB,GAACmB,IAAI,CAACC,SAAS,CAACE,KAAK,CAAC,CAAC;MAClD,IAAGA,KAAK,CAACJ,QAAQ,CAACK,IAAI,CAACC,gBAAgB,IAAE,IAAI,EAC7C;QACAxB,KAAK,CAAC,4BAA4B,GAACsB,KAAK,CAACJ,QAAQ,CAACK,IAAI,CAACC,gBAAgB,CAAC;QACxEC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACJ,QAAQ,CAACK,IAAI,CAACC,gBAAgB,CAAC;MACjD,CAAC,MACG;QACJxB,KAAK,CAAC,4BAA4B,GAACsB,KAAK,CAAC;QACzCG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;MAClB;MACA,OAAOA,KAAK;IAEd,CAAC,CAAC;EAER,CAAC;EAAA,gBAlDK1B,YAAYA,CAAA+B,EAAA;IAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAkDjB;AASD,eAAe;EACbjC,YAAY,EAAZA;AAGF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
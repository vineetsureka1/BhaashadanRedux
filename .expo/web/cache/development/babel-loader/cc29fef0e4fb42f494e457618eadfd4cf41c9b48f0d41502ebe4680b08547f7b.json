{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport { login } from \"../actions/auth\";\nimport { useCookies } from 'react-cookie';\nimport globalconst from \"../constant/globalvariables\";\nvar getJob = function () {\n  var _ref = _asyncToGenerator(function* (oldState, workType, selectedLanguageIndex) {\n    var apiURL = oldState.languages[i].Uploaded.nextPage;\n    return axios({\n      method: 'get',\n      url: apiURL\n    }).then(function (response) {\n      return response;\n    }).catch(function (error) {\n      if (error.response.data.non_field_errors != null) {\n        alert(\"API call fails with error:\" + error.response.data.non_field_errors);\n        console.log(error.response.data.non_field_errors);\n      } else {\n        alert(\"API call fails with error:\" + error);\n        console.log(error);\n      }\n      return error;\n    });\n  });\n  return function getJob(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getParagraph = function () {\n  var _ref2 = _asyncToGenerator(function* (token) {\n    var apiURL = globalconst.apiBaseUrl + \"/api/paragraph/?\" + 'language=' + \"bangla\" + '&page=1';\n    alert(\"token\" + token);\n    if (token && token != null && token != '') axios.defaults.headers.common.Authorization = `Token ${token}`;\n    var headers = new Headers();\n    headers.append(\"Authorization\", axios.defaults.headers.common.Authorization);\n    headers.append('Content-Type', 'application/json');\n    return axios({\n      method: 'get',\n      headers: headers,\n      url: apiURL\n    }).then(function (response) {\n      return response;\n    }).catch(function (error) {\n      if (error.response.data.non_field_errors != null) {\n        alert(\"API call fails with error:\" + error.response.data.non_field_errors);\n        console.log(error.response.data.non_field_errors);\n      } else {\n        alert(\"API call fails with error:\" + error);\n        console.log(error);\n      }\n      return error;\n    });\n  });\n  return function getParagraph(_x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nfunction getLanguages(oldState, workType, selectedLanguageIndex, response) {\n  var languages = _toConsumableArray(oldState.languages);\n  languages[selectedLanguageIndex][workType].items = [languages[selectedLanguageIndex][workType].items, response.data.results];\n  return languages;\n}\nexport default {\n  getParagraph: getParagraph,\n  getJob: getJob\n};","map":{"version":3,"names":["axios","login","useCookies","globalconst","getJob","_ref","_asyncToGenerator","oldState","workType","selectedLanguageIndex","apiURL","languages","i","Uploaded","nextPage","method","url","then","response","catch","error","data","non_field_errors","alert","console","log","_x","_x2","_x3","apply","arguments","getParagraph","_ref2","token","apiBaseUrl","defaults","headers","common","Authorization","Headers","append","_x4","getLanguages","_toConsumableArray","items","results"],"sources":["C:/Users/vinee/Desktop/BhaashadanWithUserManagement/Bhaashadan/src/services/dataFetchService.js"],"sourcesContent":["//import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport axios from \"axios\";\r\nimport { login } from \"../actions/auth\";\r\nimport { useCookies } from 'react-cookie';\r\nimport globalconst from \"../constant/globalvariables\";\r\nconst getJob = async (oldState,workType,selectedLanguageIndex) => {\r\n\r\n\t// let self=props;\r\nconst apiURL=oldState.languages[i].Uploaded.nextPage;\r\n    return axios({\r\n        method: 'get',\r\n        url: apiURL,\r\n        //data: payload\r\n      })\r\n      .then(function (response) {\r\n       return response;  \r\n      })\r\n      .catch(function (error) {\r\n       // alert(error.response.status);\r\n        if(error.response.data.non_field_errors!=null)\r\n        {\r\n        alert(\"API call fails with error:\"+error.response.data.non_field_errors);\r\n        console.log(error.response.data.non_field_errors);\r\n        }\r\n        else{\r\n        alert(\"API call fails with error:\"+error);\r\n        console.log(error);\r\n        }\r\n        return error;\r\n        \r\n      });\r\n      \r\n}\r\nconst getParagraph = async (token) => {\r\n\r\n\t// let self=props;\r\n // alert(\"url \"+JSON.stringify(oldState));\r\nconst apiURL=globalconst.apiBaseUrl+\"/api/paragraph/?\"+'language='+\"bangla\"+'&page=1';\r\nalert(\"token\"+token);\r\nif(token && token!=null && token!='')\r\naxios.defaults.headers.common.Authorization = `Token ${token}`;\r\nlet headers = new Headers();\r\nheaders.append(\"Authorization\",axios.defaults.headers.common.Authorization);\r\nheaders.append('Content-Type', 'application/json');\r\n\r\n    return axios({\r\n        method: 'get',\r\n        headers: headers,\r\n        url: apiURL,\r\n        //data: payload\r\n      })\r\n      .then(function (response) {\r\n       // const languages=getLanguages(oldState,workType,selectedLanguageIndex,response);\r\n      //  response.languages=languages;\r\n       return response;  \r\n      })\r\n      .catch(function (error) {\r\n       // alert(error.response.status);\r\n        if(error.response.data.non_field_errors!=null)\r\n        {\r\n        alert(\"API call fails with error:\"+error.response.data.non_field_errors);\r\n        console.log(error.response.data.non_field_errors);\r\n        }\r\n        else{\r\n        alert(\"API call fails with error:\"+error);\r\n        console.log(error);\r\n        }\r\n        return error;\r\n        \r\n      });\r\n      \r\n}\r\n\r\nfunction getLanguages(oldState,workType,selectedLanguageIndex,response){\r\n  var languages=[...oldState.languages];\r\n  languages[selectedLanguageIndex][workType].items=[languages[selectedLanguageIndex][workType].items,response.data.results]\r\n  return languages;\r\n}\r\n\r\n\r\nexport default {\r\n  getParagraph,\r\n  getJob,\r\n  \r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}